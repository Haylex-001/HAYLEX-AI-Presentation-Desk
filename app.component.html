<div class="min-h-screen p-4 sm:p-6 lg:p-8">
  <header class="text-center mb-10 max-w-4xl mx-auto animate-on-load">
    <h1 class="text-4xl sm:text-5xl font-extrabold text-white tracking-tight">
      HAYLEX AI <span class="text-sky-400">- Executive Summary</span>
    </h1>
    <p class="mt-2 text-lg text-slate-400">Legal Intelligence Platform for the Armenian Market</p>
  </header>

  <main class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      @for (slide of slides(); track slide.id; let i = $index) {
        <div 
          class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl shadow-lg p-6 flex flex-col transform hover:scale-[1.02] hover:border-sky-500 transition-all duration-300 animate-on-load hover:shadow-sky-500/20 hover:shadow-2xl"
          [style.animation-delay.ms]="100 + i * 100">
          <div class="flex-grow">
            <h2 class="text-2xl font-bold text-sky-400">
              <span class="text-slate-500 mr-2">{{ slide.id }}.</span>{{ slide.title }}
            </h2>
            @if (slide.subtitle) {
              <p class="text-slate-400 mt-1 mb-6 font-semibold">{{ slide.subtitle }}</p>
            }
            <hr class="border-slate-700 mb-6">
            
            @for (section of slide.sections; track $index) {
              <div class="mb-6 last:mb-0">
                @switch (section.type) {
                  @case ('list') {
                    @if(section.title) {
                       <h3 [class]="section.title.startsWith('✓') ? 'text-green-400 font-semibold mb-2' : 'text-slate-300 font-semibold mb-2'">{{ section.title }}</h3>
                    }
                    <ul class="space-y-2 pl-4">
                      @for (item of section.items; track $index) {
                        <li class="relative pl-4 text-slate-300">
                          <span [class]="item.startsWith('✓') ? 'absolute left-0 top-1 text-green-400' : 'absolute left-0 top-1.5 w-1.5 h-1.5 bg-sky-400 rounded-full'">
                            @if (!item.startsWith('✓')) {
                              <span></span>
                            } @else {
                              <span>✓</span>
                            }
                          </span>
                           {{ item.startsWith('✓') ? item.substring(2) : item }}
                        </li>
                      }
                    </ul>
                  }
                  @case ('keyValue') {
                    @if (section.title) {
                      <h3 class="text-slate-300 font-semibold mb-2">{{ section.title }}</h3>
                    }
                    <p class="text-slate-300 bg-slate-700/50 rounded-md px-3 py-2">{{ section.data?.key }}</p>
                  }
                  @case ('table') {
                    <div class="overflow-x-auto -mx-2">
                        <table class="min-w-full text-left text-sm">
                            <thead class="border-b border-slate-600 font-medium">
                                <tr>
                                    @for (header of section.tableData?.headers; track $index) {
                                        <th scope="col" class="px-4 py-2 text-sky-400">{{ header }}</th>
                                    }
                                </tr>
                            </thead>
                            <tbody>
                                @for (row of section.tableData?.rows; track $index) {
                                    <tr class="border-b border-slate-700 hover:bg-slate-700/50 transition-colors">
                                        @for (cell of row; track $index) {
                                            <td class="whitespace-nowrap px-4 py-2 text-slate-300">{{ cell }}</td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                  }
                  @case ('barChart') {
                    @if (section.barChartData?.items) {
                      @let max = getMaxBarValue(section.barChartData.items);
                      <h3 class="text-slate-300 font-semibold mb-4">{{ section.title }}</h3>
                      <div class="w-full h-64 flex items-end justify-around gap-2 p-4 bg-slate-700/30 rounded-lg border border-slate-700">
                        @for (item of section.barChartData.items; track item.label) {
                          <div class="flex-1 flex flex-col items-center group" [style.height.%]="100">
                            <div class="text-sky-300 text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-300 translate-y-4 group-hover:translate-y-0 relative z-10">{{ item.formattedValue }}</div>
                            <div 
                              class="w-full bg-sky-500 hover:bg-sky-400 rounded-t-md transition-all duration-300 ease-in-out mt-auto" 
                              [style.height.%]="(item.value / max) * 100">
                            </div>
                            <div class="text-xs text-slate-400 mt-2 font-medium h-4">{{ item.label }}</div>
                          </div>
                        }
                      </div>
                    }
                  }
                  @case ('pieChart') {
                    @if (section.pieChartData && slide.subtitle) {
                      <h3 class="text-slate-300 font-semibold mb-4">{{ section.title }}</h3>
                      <div class="flex flex-col sm:flex-row items-center gap-6">
                        <div class="relative w-36 h-36 flex-shrink-0">
                          <div 
                            class="w-full h-full rounded-full border-4 border-slate-700/50 shadow-lg" 
                            [style.background]="getPieChartGradient(section.pieChartData)">
                          </div>
                          <div class="absolute inset-0 flex items-center justify-center">
                              <div class="bg-slate-800 w-24 h-24 rounded-full flex items-center justify-center text-center">
                                  <span class="text-xl font-bold text-white">{{ extractInvestmentAsk(slide.subtitle) }}</span>
                              </div>
                          </div>
                        </div>
                        <ul class="space-y-2 text-sm w-full">
                          @for (item of section.pieChartData; track item.label) {
                            <li class="flex items-center group">
                              <span class="w-3 h-3 rounded-sm mr-3 flex-shrink-0 transition-transform group-hover:scale-125" [class]="item.tailwindColor"></span>
                              <span class="text-slate-300 group-hover:text-white transition-colors">{{ item.label }} <span class="text-slate-400 font-medium">({{ item.value }}%)</span></span>
                            </li>
                          }
                        </ul>
                      </div>
                    }
                  }
                }
              </div>
            }
          </div>
        </div>
      }
    </div>

    <footer 
        class="mt-12 text-center p-6 bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl max-w-2xl mx-auto animate-on-load"
        [style.animation-delay.ms]="slides().length * 100 + 200">
        <h3 class="text-xl font-bold text-white">Contact Information</h3>
        <p class="mt-2 text-slate-400">Ruben Harutyunyan - CEO & Founder</p>
        <a href="mailto:harutyunyans@haylex.cloud" class="mt-3 inline-block bg-sky-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-600 transition-colors">
            harutyunyans@haylex.cloud
        </a>
    </footer>
  </main>
</div>
